<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Writing Custom Eto forms in Python with Python</title>
  <meta name="description" content="Using the Eto dialog framework to create custom dialogs.  Using Python">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/rhinopython/eto-forms-python/" />
  <meta property="og:title" content="Writing Custom Eto forms in Python" />
  <meta property="og:description" content="Using the Eto dialog framework to create custom dialogs." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Writing Custom Eto forms in Python" />
  <meta name="twitter:description" value="Using the Eto dialog framework to create custom dialogs." />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Mac, Windows" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="Python" />
  

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vbnet.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/guides/rhinopython/eto-forms-python/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/feed.xml" />

  <link rel="shortcut icon" href="https://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="/images/touch-icon-192x192.png">

  <!-- Enable crawling because this version is the stable version -->
  <!--<meta name="robots" content="noindex" />-->
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    

<!-- The following are "casts" from the string to number using math filters... -->



<!-- ...but we need to check to see if the original branches were numbers or not... -->









  <div class="version-banner">

    
      
        
        
          <!-- <strong>NEW:</strong> Welcome to the <strong>Rhino 7</strong> version of this page! <a href="/6/guides/rhinopython/eto-forms-python/">Looking for the older Rhino 6 version?</a> -->
          Welcome to the <strong>Rhino 7</strong> version of this page!
          <a href="/wip/guides/rhinopython/eto-forms-python/">Looking for the newer Rhino 8 WIP version?</a>
        
        
      
    
</div>

<!-- Check the version banner for broken links and remove the link if found -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- <script>
$(document).ready(function()
{
  var splitPath = window.location.pathname.split("/");
  var linkURL = "/" + splitPath.splice(2,splitPath.length-2).join("/");

  $.get(linkURL).fail(function ()
  {
    var $aTag = $("div.version-banner > a");
    $aTag.text("View the current site instead.");
    $aTag.attr("href", "/");
  });
});
</script> -->


    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/"><img src="/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
        
          
            
              
            
          
        
          
            
              
                
                  
                    <a class="page-link active" href="/guides/">Guides</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/api/">API</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/samples/">Samples</a>
                    
                  
              
            
          
        
          
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/videos/">Videos</a>
                    
                  
              
            
          
        
        <a class="page-link" href="https://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- CSE Search Box Begins  -->
            <form id="search-box" name="search-box" onsubmit="sitesearchFunction()" action="/search-results.html">
                <input id="searchtext" type="search" name="q" size="24" value="" placeholder="Search" />
                <input class="searchBox" type="submit" size="2" value=" " />
            </form>
			<script type="text/javascript">
			function sitesearchFunction(){
				var form_id = document.getElementById("search-box");
				var form_action = form_id.action;
                var form_sb = document.getElementById("searchtext");
				var query_src = form_sb.value + " site:developer.rhino3d.com";
				form_sb.value = query_src.toString();
			}
			</script>
<!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#overview">Overview</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#the-eto-framework">The Eto framework</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#imports-for-eto">Imports for Eto</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#custom-dialog-class">Custom Dialog Class</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#the-dialog-form">The Dialog Form</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#the-controls">The Controls</a>

              
                <ul class="nav nav-stacked">
                  

                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#label-control">Label Control</a>
                    </li>
                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#textbox-control">TextBox Control</a>
                    </li>
                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#button-controls">Button Controls</a>
                    </li>
                  

                </ul>
              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#the-layout">The Layout</a>

              
                <ul class="nav nav-stacked">
                  

                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#placing-rows-in-layouts">Placing Rows in Layouts</a>
                    </li>
                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#using-none-in-a-layout">Using </a>
                    </li>
                  

                </ul>
              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#control-delegates-and-events">Control Delegates and Events</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#using-eto-dialogs-in-scripts">Using Eto Dialogs in Scripts</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#sample-dialogs">Sample Dialogs</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#related-topics">Related Topics</a>

              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              
              <li><a href="/guides/rhinopython">RhinoPython</a></li>

              
                
                  <li class="active">Eto</li>
                
              
          </ol>

          <h1>Writing Custom Eto forms in Python</h1>

          <p>
  <span class="guide_byline">
    
      
      by <a href="/authors/scott_davidson">Scott Davidson</a> (Last modified: <a href="https://github.com/mcneel/developer-rhino3d-com/commits/7/_guide_topics/rhinopython/eto-forms-python.md" target="_blank">05 Dec 2018</a>)
    
  </span>

</p>

          <p>Using the Eto dialog framework to create custom dialogs.</p>

          <h2 id="overview">Overview</h2>

<p><a href="https://github.com/picoe/Eto/wiki">Eto is an open source cross-platform user-interface framework</a> available in Rhino 6.  Eto can be used in Rhino plug-ins, Grasshopper components, and Python scripts to create dialog boxes and other user-interface features.</p>

<p>Rhino.Python comes with a series of <a href="/guides/rhinopython/python-user-input/">pre-defined user interface dialogs</a> which can be used for the times a simple dialog box is needed.  But, if the pre-defined dialogs above do not provide enough functionality, then creating a custom dialog box using Eto may be the right solution.</p>

<p>For example, here is a custom, collapsing dialog that uses many controls:</p>

<p><img src="/images/dialog-collapse.png" alt="/images/dialog-collapse.png" class="img-center" width="50%" /></p>

<p>The Eto framework allows creation of the dialog box, the controls, and the actions and events required to make the form functional.</p>

<p>Eto is powerful, full-features user-interface toolkit. Understanding how best to write, organize and use Eto dialogs will take some work.</p>

<p>This guide will cover the basics and best practices of creating Eto dialogs in Rhino.Python.  Some of the syntax may seem a little onerous, but in practice the following methods allow Eto code to efficiently be managed in Rhino.Python scripts.</p>

<h2 id="the-eto-framework">The Eto framework</h2>

<p>Conceptually, an Eto dialog can be thought of as a set of layers:</p>

<p><img src="/images/layered-form.svg" alt="/images/layered-form.svg" class="img-center" width="65%" /></p>

<p>Learning how each code each of these layers is key to learning Eto:</p>

<ul>
  <li><a href="#custom-dlalog-class"><strong>Custom Dialog Class</strong></a> - Extending the Eto Dialog/Form class is the best way to create a dialog.</li>
  <li><a href="#the-dialog-form"><strong>The Dialog Form</strong></a> - The Dialog/Form is the base container.</li>
  <li><a href="#eto-controls"><strong>The Controls</strong></a> - Controls, such as labels, buttons and edit boxes, can be created and then placed in a layout.</li>
  <li><a href="#the-layout"><strong>The Layout</strong></a> - Within each form, a layout is used to position the controls.</li>
  <li><a href="#control-delegate"><strong>Control delegates</strong></a> - Delegate actions are the methods that are executed when a control is click, edited or changed.  Any delegate actions must be bound to specific controls to specify what methods are run at the time of control events.</li>
</ul>

<p>Thinking about theses dialog parts as layers can help keep the code is organized.  As an example of the layered approach of a dialog, here is a simple Eto dialog with few controls.</p>

<p><img src="/images/dialog-sample-eto-room-number.png" alt="/images/dialog-sample-eto-room-number.png" class="img-center" width="50%" /></p>

<p>The rest of this guide will cover the sections of the code in much more detail:</p>

<pre class="line-numbers"><code class="language-python"># Imports
import Rhino
import scriptcontext
import System
import Rhino.UI
import Eto.Drawing as drawing
import Eto.Forms as forms

# SampleEtoRoomNumber dialog class
class SampleEtoRoomNumberDialog(forms.Dialog[bool]):

    # Dialog box Class initializer
    def __init__(self):
        # Initialize dialog box
        self.Title = 'Sample Eto: Room Number'
        self.Padding = drawing.Padding(10)
        self.Resizable = False

        # Create controls for the dialog
        self.m_label = forms.Label(Text = 'Enter the Room Number:')
        self.m_textbox = forms.TextBox(Text = None)

        # Create the default button
        self.DefaultButton = forms.Button(Text = 'OK')
        self.DefaultButton.Click += self.OnOKButtonClick

        # Create the abort button
        self.AbortButton = forms.Button(Text = 'Cancel')
        self.AbortButton.Click += self.OnCloseButtonClick

        # Create a table layout and add all the controls
        layout = forms.DynamicLayout()
        layout.Spacing = drawing.Size(5, 5)
        layout.AddRow(self.m_label, self.m_textbox)
        layout.AddRow(None) # spacer
        layout.AddRow(self.DefaultButton, self.AbortButton)

        # Set the dialog content
        self.Content = layout

    # Start of the class functions

    # Get the value of the textbox
    def GetText(self):
        return self.m_textbox.Text

    # Close button click handler
    def OnCloseButtonClick(self, sender, e):
        self.m_textbox.Text = ""
        self.Close(False)

    # OK button click handler
    def OnOKButtonClick(self, sender, e):
        if self.m_textbox.Text == "":
            self.Close(False)
        else:
            self.Close(True)

    ## End of Dialog Class ##

# The script that will be using the dialog.
def RequestRoomNumber():
    dialog = SampleEtoRoomNumberDialog();
    rc = dialog.ShowModal(Rhino.UI.RhinoEtoApp.MainWindow)
    if (rc):
        print dialog.GetText() #Print the Room Number from the dialog control

##########################################################################
# Check to see if this file is being executed as the "main" python
# script instead of being used as a module by some other python script
# This allows us to use the module which ever way we want.
if __name__ == "__main__":
    RequestRoomNumber()
</code></pre>

<p>This script is split into 3 main sections.</p>

<ol>
  <li>The <code>import</code> section to include all the assemblies needed for the script.</li>
  <li>The dialog class definition <code>SampleRoomNumberDialog()</code></li>
  <li>The script itself <code>RequestRoomNumber()</code></li>
</ol>

<h2 id="imports-for-eto">Imports for Eto</h2>

<p>Eto is a large assembly.  For readabilities sake, you need only <code>import</code>  the most important portions:</p>

<pre><code class="language-python">import Rhino.UI
import Eto.Drawing as drawing
import Eto.Forms as forms
</code></pre>

<p>The <code>Rhino.UI</code> assembly is used to interface between Rhino and Eto.  When using <code>dialog.ShowModal</code> method, using a <code>Rhino.UI.RhinoEtoApp.MainWindow</code> class allows the dialog to show as a child of  the Rhino application.</p>

<p>Eto is a large namespace. The next two <code>import</code> lines access the most referenced portions of Eto, the <code>Eto.Drawing</code> namespace and <code>Eto.Forms</code>.  The <code>Eto.Drawing</code> namespace contains specific classes that help with the graphic properties of objects. The <code>Eto.Forms</code> namespace contains the dialogs, layouts, and controls for a dialog. Using Python’s renaming feature, the namespaces are shortened to <code>drawing</code> and <code>forms</code>.</p>

<p>Along the left column of the Python editor, the methods within this Eto Assembly are listed.  For a detailed view of all the methods the Eto can be found in the <a href="http://api.etoforms.picoe.ca/html/R_Project_EtoForms.htm">Eto.Forms API Documentation</a></p>

<h2 id="custom-dialog-class">Custom Dialog Class</h2>

<p>The next section of the code creates a new class definition that extends the <code>Dialog(T)</code> class. <a href="/guides/rhinopython/primer-101/7-classes/">Creating classes in Python</a> requires some very specific syntax.  While it may seems little more complicated to create a class, the ability to reuse, import and interact with class based dialog in Python scripts is well worth the practice.  A class will contain the default information about the default layouts and actions of the class controls. The class will also be used to store all the values of the controls for the while the script is running.  contain the values of</p>

<p>A dialog class is started with these lines:</p>

<pre><code class="language-python">class SampleEtoViewRoomNumber(forms.Dialog[bool]):
</code></pre>

<p>In this case the new class will be named <code>SampleEtoRoomNumberDialog</code> and inherits the Eto class <code>Eto.Froms.Dialog[bool]</code>.  The <code>bool</code> argument shows that a Boolean value is expected back from the dialog.  This Boolean value can be used to tell if the <code>OK</code> or <code>Cancel</code> button was hit when the dialog was exited. If more return values then True/False are need back from a dialog then a <code>Dialog[int]</code> or <code>Dialog[string]</code> might be needed.</p>

<p>Note, this guide will only cover the creation of model dialogs, which require the user to respond before continuing the program.  The other dialog types, semi-modal and modeless, are beyond the scope of this guide, but may be useful in future projects.</p>

<h2 id="the-dialog-form">The Dialog Form</h2>

<p>Once the new class is declared, then the <em>init</em> instantiation operation to assign the defaults to the new dialog object when created.  Python uses the <em>self</em> variable in class declarations to reference the class members in the <em>init</em>. This of <em>self</em> as a placeholder for the class name once the class is actually created in the script.</p>

<pre><code class="language-python">class SampleEtoViewRoomNumber(forms.Dialog[bool]):

    def __init__(self):
        # Initialize dialog box
        self.Title = 'Sample Eto: Room Number'
        self.Padding = drawing.Padding(10)
        self.Resizable = False
</code></pre>

<p>The first section of the <em>init</em> is a few common properties that all dialogs have:</p>

<ol>
  <li><code>self.Title</code> - Sets the title of the dialog.  This is a standard string.</li>
  <li><code>self.Padding</code> - Set a blank border area within which any child content will be placed.  This requires the creation of a  <a href="http://api.etoforms.picoe.ca/html/T_Eto_Drawing_Padding.htm">Eto.Drawing.Padding</a> structure.</li>
  <li><code>self.Resizable</code> - Whether the dialog box is resizable by dragging with the mouse.  This is a True/False Boolean.</li>
</ol>

<p><img src="/images/dialog-properties.svg" alt="/images/dialog-properties.svg" class="img-center" width="65%" /></p>

<p>There are a few <code>Padding</code> formats that are accepted by <a href="http://api.etoforms.picoe.ca/html/T_Eto_Drawing_Padding.htm">Eto.Drawing.Padding</a>. These match the margin and padding formats of standard CSS styling:</p>

<ul>
  <li><code>Eto.Drawing.Padding(10)</code> - 10 pixel padding around all 4 sides.</li>
  <li><code>Eto.Drawing.Padding(10, 20)</code> - A padding of 10 to the left and right and a padding of 20 on top and bottom.</li>
  <li><code>Eto.Drawing.Padding(10, 20, 30, 40)</code> - A padding of 10 to the left, 20 to the top, 30 to the right and 40 to the bottom.</li>
</ul>

<p>By default the dialog will automatically adjust its size to the contents it contains.  But an addition line can be added to set an initial size to the dialog using <code>self.ClientSize</code>:</p>

<pre><code class="language-python">        self.ClientSize = drawing.Size(300, 400) #sets the (Width, Height)
</code></pre>

<p>The ClientSize property takes a <code>Eto.Drawing.Size</code> structure.</p>

<p>After we create the controls and a layout the contents can be placed within the dialog using the <code>self.Content</code> class, as is done on line 39:</p>

<pre><code class="language-python">        self.Content = layout
</code></pre>

<p>A dialog class is will show up on the screen as <a href="https://en.wikipedia.org/wiki/Modal_window"><em>modal</em></a>.  To close the dialog a button will be pressed.  To close a dialog, use the <code>self.Close</code> method.  It is common to do little data checking before closing the dialog:</p>

<pre><code>    # Close button click handler
    def OnCloseButtonClick(self, sender, e):
        self.m_textbox.Text = ""
        self.Close(False)
</code></pre>

<p>The <code>self.Close</code> method is also returning a <code>False</code> because the Cancel button was pressed to cause this event.  The script will continue on based on the return value of the dialog.</p>

<p>Also, because we are using a new class object to create the dialog, even after the dialog is closed the dialog will still be in memory. This means the methods and values within the dialog will continue to be available within the scope of the script as the script may need to reference those values.</p>

<p>After creating the dialog framework, we will start to create some controls for the dialog.</p>

<h2 id="the-controls">The Controls</h2>

<p>The business end of a dialog is the user-interface controls it displays.  Controls may include Labels, Buttons, Edit boxes and Sliders. In Eto, there are <a href="https://github.com/picoe/Eto/wiki/Controls">more then 35 different controls</a> that can be created. For details information on these controls, go to the <a href="/guides/rhinopython/eto-controls-python/">Eto Controls in Python</a> guide.</p>

<p>Controls normally need to be setup properly in a layout before they are added to a dialog.</p>

<h3 id="label-control">Label Control</h3>

<p>The simplest control is the Label control.  It is simply a piece of text that normally is used to create a prompt, or label for another control.</p>

<p><img src="/images/eto-label.svg" alt="/images/eto-label.svg" class="img-center" width="65%" /></p>

<pre><code class="language-python">        self.m_label = forms.Label(Text = 'Enter the Room Number:')
</code></pre>

<p>As with many controls, the line above create a name for the control <code>m_label</code>.  Then the main property of a Label is the text it shows by setting the Text Property of the label.</p>

<p>Normally this is as complex as a label needs to be, but a label also has many more properties in addition to <code>Text</code>.  Additonal properties include <code>VerticalAlignment</code>, <code>Horizontal Alignment</code>, <code>TextAlignment</code>, <code>Wrap</code>, <code>TextColor</code>, and <code>Font</code>. Properties can be added to the Text Property by using a comma(<code>,</code>):</p>

<pre><code class="language-python">        self.m_label = forms.Label(Text = 'Enter the Room Number:', VerticalAlignment = VerticalAlignment.Center)
</code></pre>

<p>For a complete list of properties and events of the Label class, see the <a href="http://api.etoforms.picoe.ca/html/T_Eto_Forms_Label.htm">Eto Label Class</a> documentation.</p>

<h3 id="textbox-control">TextBox Control</h3>

<p>A TextBox is used to enter a string into the dialog.</p>

<p><img src="/images/eto-textbox.svg" alt="/images/eto-textbox.svg" class="img-center" width="65%" /></p>

<p>To check the contents of the textbox in the script, the textbox control must have a name to reference it.</p>

<pre><code class="language-python">        self.m_textbox = forms.TextBox()
</code></pre>

<p>In this case the name <code>m_textbox</code> can be used to reference the control later in the class method starting on line 44:</p>

<pre><code>    # Get the value of the textbox
    def GetText(self):
        return self.m_textbox.Text
</code></pre>

<p>Just creating a new <code>Eto.Forms.TextBox()</code> is common.  There are a number of additional properties of a TextBox which can be used to control the input. These properties include <code>MaxLength</code>, <code>PlaceholderText</code>, <code>InsertMode</code> and many more that can be seen in the <a href="http://api.etoforms.picoe.ca/html/T_Eto_Forms_TextBox.htm">Eto TextBox Class</a>.</p>

<h3 id="button-controls">Button Controls</h3>

<p>Buttons are placed on almost every dialog.  Buttons are created, then bound through their <code>.Click</code> event to run a method when the button is clicked.</p>

<p><img src="/images/eto-buttons.svg" alt="/images/eto-buttons.svg" class="img-center" width="65%" /></p>

<p>Buttons can be assigned to any name. Along with the name, the <code>Text</code> property can be set to display on the button:</p>

<pre><code class="language-python">        # Create the default button
        self.DefaultButton = forms.Button(Text = 'OK')
        self.DefaultButton.Click += self.OnOKButtonClick
</code></pre>
<p>Once created, the button then can be bound to an event method (<code>OnOKButtonClick</code>) through <code>.Click</code> class using the <code>+=</code> syntax as follows:</p>

<pre><code class="language-python">        # Create the default button
        self.DefaultButton = forms.Button(Text = 'OK')
        self.DefaultButton.Click += self.OnOKButtonClick
</code></pre>
<p>The bound method is run if the button is clicked on.  The bound method is declared in the methods section later in the class:</p>

<pre><code class="language-python">    # Close button click handler
    def OnOKButtonClick(self, sender, e):
        if self.m_textbox.Text == "":
            self.Close(False)
        else:
            self.Close(True)
</code></pre>
<p>In this case the button is clicked and the bound method <code>OnOKButtonClick</code> checks the Text of the <code>m_textbox</code> to to determine if anything has been entered. Then the method closes the dialog, returning either <code>True</code> or <code>False</code>.</p>

<p>The <em>Eto.Dialog class</em> has two special reserved names, the <code>DefaultButton</code> and the <code>AbortButton</code>.  The <code>DefaultButton</code> name will create a button that is a standard button and also will receive a click event if the <code>Enter Key</code> is used. The <code>AbortButton</code> is a button that recieves a <code>.Click</code> event if the <code>ESC</code> key is used.  These buttons are simple assigned through the name of the control, using <code>self</code>  syntax.</p>

<p>This guide review the most basic controls.  To understand how to create and control more controls with Python see the Eto Controls in Python guide (TODO).</p>

<p>Once all the controls for the dialog are created then they can be placed in a layout to be positioned on a dialog.</p>

<h2 id="the-layout">The Layout</h2>

<p>Layouts are used to size and place controls in a logical way in a dialog.  They can generally be thought of as grid controls that adjusts based on their contents.  The sample code a new Layout is created on line 30 in this section of the code:</p>

<pre><code class="language-python">        # Create a table layout and add all the controls
        layout = forms.DynamicLayout()
        layout.Spacing = drawing.Size(5, 5)
        layout.AddRow(self.m_label, self.m_textbox)
        layout.AddRow(self.DefaultButton, self.AbortButton)


        # Set the dialog content
        self.Content = layout
</code></pre>

<p>The code for the layout comes further down in the class definition, because it seems to make sense to create the controls first before placing them in a layout.</p>

<p>In this a case a new dynamic layout object is created at:</p>

<pre><code class="language-python">        layout = forms.DynamicLayout()
</code></pre>

<p>The <a href="https://github.com/picoe/Eto/wiki/DynamicLayout">DynamicLayout</a> is one of <a href="https://github.com/picoe/Eto/wiki/Containers">5 layout types</a> supported by Eto.  The Dynamic layout is a virtual grid that can organized controls both vertically and horizontally. For a detailed look at layouts, go to the <a href="/guides/rhinopython/eto-layouts-python/">Eto Layouts in Python</a> guide.</p>

<p>The spacing between controls in the layout is set by <code>layout.Spacing</code> on the line:</p>

<pre><code class="language-python">        layout.Spacing = drawing.Size(5, 5)
</code></pre>

<p>The <code>Eto.Drawing.Size(5, 5)</code> sets the horizontal spacing and vertical spacing of the controls to 5 pixels between the controls.</p>

<h3 id="placing-rows-in-layouts">Placing Rows in Layouts</h3>

<p>Once the layout type has been setup then controls can be placed.   Control are placed into <em>Rows</em> in the layout.</p>

<p><img src="/images/layout-rows.svg" alt="/images/layout-rows.svg" class="img-center" width="65%" /></p>

<pre><code class="language-python">        layout.AddRow(self.m_label, self.m_textbox)
        layout.AddRow(self.DefaultButton, self.AbortButton)
</code></pre>

<p>Each row can be added to the newly created <code>Eto.Forms.Layout</code> object using the <code>.AddRow</code> method. Each control that is added in each row is given a cell on the row added.  So if two controls are added, the row will contain two cells that control the placement of the control.  The controls will stretch to fill up the cells.</p>

<p>The <code>Eto.Forms.DynamicLayout</code> can positioned controls vertically and horizontally. Each vertical set of controls can be aligned with controls in previous horizontal sections, giving a very easy way to build forms. For more information see the <a href="https://github.com/picoe/Eto/wiki/DynamicLayout">Eto DynamicLayout documenation</a></p>

<h3 id="using-none-in-a-layout">Using <em>None</em> in a Layout</h3>

<p>Sometimes blank spacers are needed within a layout to help controls align properly or help to align the number of cells from above.  Or a blank form may be needed to allow the height of the layout to fill up the vertical space of the dialog.  In Eto, using the <code>None</code> value will allow for spacers in dialogs.</p>

<p>In the sample above a blank row is added between the controls:</p>

<pre><code class="language-python">        layout.AddRow(None) # spacer
</code></pre>
<p>If the dialog box gets vertically taller, then the <code>None</code> row will expand to fill up the needed space.</p>

<p><code>None</code> can also be used in a Row as a horizontal spacer.  For instance the buttons could be dynamically justified to the right of the row by adding a <code>None</code> spacer at the start of the row:</p>

<pre><code class="language-python">        layout.AddRow(None, self.DefaultButton, self.AbortButton)
</code></pre>

<p>The <code>None</code> cell will expand and contract to justify the buttons to the right.</p>

<p>There are many options when using Layout, Rows and Cells with Eto to place controls.  For more information on the details of using Layouts see the Eto Layout advanced Options with Python (TODO)</p>

<h2 id="control-delegates-and-events">Control Delegates and Events</h2>

<p>The last section of the Dialog class, in the example, is a series of class methods:</p>

<ol>
  <li>Methods used to access the class members</li>
  <li>Method actions for binding to control events.</li>
</ol>

<p>A common practice is to create a function that returns the value of a control you might want to get or set:</p>

<pre><code class="language-python">    # Get the value of the textbox
    def GetText(self):
        return self.m_textbox.Text
</code></pre>

<p>There is an unusual syntax here in the method declaration with the inclusion of <code>(self)</code> as an argument of the function. This is done in functions that are a member of a class.  As we learned before the <em>self</em> variable is like a placeholder for the class name that this method is a member.</p>

<p>To use this method in a script the following syntax is used:</p>

<pre><code class="language-python">    dialog = SampleEtoRoomNumberDialog();
    rc = dialog.ShowModal(RhinoEtoApp.MainWindow)
    if (rc):
        print dialog.GetText() #Print the Room Number from the dialog control
</code></pre>

<p>In this case, a new dialog is created with the name <code>dialog</code>. The dialog is shown and the return value is assigned to the <code>rc</code> variable.  Then, based on the result of <code>rc</code> the <code>GetText</code> method is used to get the value of the Textbox in the dialog using the <code>dialog.GetText()</code> method, even though the dialog has already been closed.</p>

<p>Class methods also need to be created to handle events that may happen with controls in the dialog.  Here is a function that will be used for the <code>OK</code> button:</p>

<pre><code class="language-python">    # OK button click handler
    def OnOKButtonClick(self, sender, e):
        if self.m_textbox.Text == "":
            self.Close(False)
        else:
            self.Close(True)
</code></pre>

<p>Again here is an unusual syntax for the method declaration: <code>(self, sender, e)</code>. This is the standard argument declaration for any function that will be bound to a control action. This <code>OnOKButtonClick()</code> method will be bound to the OK button click with this code:</p>

<pre><code class="language-python">        self.DefaultButton.Click += self.OnOKButtonClick
</code></pre>

<p>So now on every click the method will be called.</p>

<p>There are many more events that methods may be bound to on controls such as <a href="http://api.etoforms.picoe.ca/html/E_Eto_Forms_TextControl_TextChanged.htm"><code>TextChanged</code></a>, <a href="http://api.etoforms.picoe.ca/html/E_Eto_Forms_CheckBox_CheckedChanged.htm"><code>CheckedChanged</code></a>, <a href="http://api.etoforms.picoe.ca/html/E_Eto_Forms_EnumDropDown_1_AddValue.htm"><code>AddValue</code></a>, etc.. Review the <a href="http://api.etoforms.picoe.ca/html/N_Eto_Forms.htm">Eto APi documentation</a> for specific events supported by each control.</p>

<h2 id="using-eto-dialogs-in-scripts">Using Eto Dialogs in Scripts</h2>

<p>Once the class definition is set, the dialog is ready to be used in a script:</p>

<pre><code class="language-python"># The script that will be using the dialog.
def RequestRoomNumber():
    dialog = SampleEtoRoomNumberDialog();
    rc = dialog.ShowModal(Rhino.UI.RhinoEtoApp.MainWindow)
    if (rc):
        print dialog.GetText() #Print the Room Number from the dialog control
</code></pre>

<p>First a new class instance of the dialog is created:</p>

<pre><code class="language-python">   dialog = SampleEtoRoomNumberDialog();
</code></pre>

<p>Once create then the dialog needs to shown as a child of the Rhino application:</p>

<pre><code class="language-python">    rc = dialog.ShowModal(Rhino.UI.RhinoEtoApp.MainWindow)
</code></pre>

<p>Because the dialog is modal, the script will continue to the next lines only after the dialog is closed. When <code>dialog.Close</code> is called the dialog will also return a value that is assigned to <code>rc</code> .</p>

<p>The script continues along, checking the return <code>rc</code> value and also referencing the <code>dialog.GetText()</code> value.  Remember, if if the dialog is closed the values of the dialog controls are still available.</p>

<h2 id="sample-dialogs">Sample Dialogs</h2>

<p>Now with some understanding of Eto Dialogs in Python, take a look at some of the Sample dialogs in the <a href="https://github.com/mcneel/rhino-developer-samples/blob/7/rhinopython">Python Developer Samples Repo</a>:</p>

<ol>
  <li><a href="https://github.com/mcneel/rhino-developer-samples/blob/7/rhinopython/SampleEtoDialog.py">A very simple dialog</a></li>
  <li><a href="https://github.com/mcneel/rhino-developer-samples/blob/7/rhinopython/SampleEtoRebuildCurve.py">Rebuild curve Dialog</a></li>
  <li><a href="https://github.com/mcneel/rhino-developer-samples/blob/7/rhinopython/SampleEtoViewCaptureDialog.py">Capture a view dialog</a></li>
  <li><a href="https://github.com/mcneel/rhino-developer-samples/blob/7/rhinopython/SampleEtoCollapsibleDialog.py">Collapsable controls on a Dialog</a></li>
</ol>

<hr />

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="/guides/rhinopython/python-reading-writing">Reading and Writing files with Python</a></li>
  <li><a href="/api/RhinoScriptSyntax/win/#userinterface">RhinoScriptSyntax User interface methods</a></li>
  <li><a href="/guides/rhinopython/eto-layouts-python/">Eto Layouts in Python</a> guide</li>
  <li><a href="/guides/rhinopython/eto-controls-python/">Eto Controls in Python</a> guide</li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                
                Author: <a href="/authors/scott_davidson">Scott Davidson</a>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/7/_guide_topics/rhinopython/eto-forms-python.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2022 Robert McNeel &amp; Associates<br/>
          <span class="glyphicon glyphicon-heart-empty"></span>&nbsp;<a href="/authors">Contributions welcome</a>
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
  </body>
</html>
