<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Grasshopper Data Types with C#, VB</title>
  <meta name="description" content="This guide covers the basic data types that Grasshopper deals with.  Using C#, VB">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/grasshopper/grasshopper-data-types/" />
  <meta property="og:title" content="Grasshopper Data Types" />
  <meta property="og:description" content="This guide covers the basic data types that Grasshopper deals with." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Grasshopper Data Types" />
  <meta name="twitter:description" value="This guide covers the basic data types that Grasshopper deals with." />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows, Mac" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C#, VB" />
  

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vbnet.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/guides/grasshopper/grasshopper-data-types/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/feed.xml" />

  <link rel="shortcut icon" href="https://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="/images/touch-icon-192x192.png">

  <!-- Enable crawling because this version is the stable version -->
  <!--<meta name="robots" content="noindex" />-->
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    

<!-- The following are "casts" from the string to number using math filters... -->



<!-- ...but we need to check to see if the original branches were numbers or not... -->









  <div class="version-banner">

    
      
        
        
          <!-- <strong>NEW:</strong> Welcome to the <strong>Rhino 7</strong> version of this page! <a href="/6/guides/grasshopper/grasshopper-data-types/">Looking for the older Rhino 6 version?</a> -->
          Welcome to the <strong>Rhino 7</strong> version of this page!
          <a href="/wip/guides/grasshopper/grasshopper-data-types/">Looking for the newer Rhino 8 WIP version?</a>
        
        
      
    
</div>

<!-- Check the version banner for broken links and remove the link if found -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- <script>
$(document).ready(function()
{
  var splitPath = window.location.pathname.split("/");
  var linkURL = "/" + splitPath.splice(2,splitPath.length-2).join("/");

  $.get(linkURL).fail(function ()
  {
    var $aTag = $("div.version-banner > a");
    $aTag.text("View the current site instead.");
    $aTag.attr("href", "/");
  });
});
</script> -->


    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/"><img src="/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
        
          
            
              
            
          
        
          
            
              
                
                  
                    <a class="page-link active" href="/guides/">Guides</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/api/">API</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/samples/">Samples</a>
                    
                  
              
            
          
        
          
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/videos/">Videos</a>
                    
                  
              
            
          
        
        <a class="page-link" href="https://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- CSE Search Box Begins  -->
            <form id="search-box" name="search-box" onsubmit="sitesearchFunction()" action="/search-results.html">
                <input id="searchtext" type="search" name="q" size="24" value="" placeholder="Search" />
                <input class="searchBox" type="submit" size="2" value=" " />
            </form>
			<script type="text/javascript">
			function sitesearchFunction(){
				var form_id = document.getElementById("search-box");
				var form_action = form_id.action;
                var form_sb = document.getElementById("searchtext");
				var query_src = form_sb.value + " site:developer.rhino3d.com";
				form_sb.value = query_src.toString();
			}
			</script>
<!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#overview">Overview</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#what-to-do-with-unknowns">What to do with unknowns?</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#goo">Goo</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#conversion-methods">Conversion Methods</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#related-topics">Related Topics</a>

              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              
              <li><a href="/guides/grasshopper">Grasshopper</a></li>

              
                
                  <li class="active">In Depth</li>
                
              
          </ol>

          <h1>Grasshopper Data Types</h1>

          <p>
  <span class="guide_byline">
    
      
      by <a href="/authors/david_rutten">David Rutten</a> (Last modified: <a href="https://github.com/mcneel/developer-rhino3d-com/commits/7/_guide_topics/grasshopper/grasshopper-data-types.md" target="_blank">05 Dec 2018</a>)
    
  </span>

</p>

          <p>This guide covers the basic data types that Grasshopper deals with.</p>

          <h2 id="overview">Overview</h2>

<p>Grasshopper is an application that deals with a lot of different types of data.  These data types can come from 6 different sources and some of them will not be known when Grasshopper is written and compiled.  The six potential sources are:</p>

<ol>
  <li>Primitive types such as <code>Booleans</code>, <code>Integers</code>, <code>Colors</code>, <code>Strings</code>, etc. Grasshopper uses these types itself a lot.</li>
  <li>Other .NET Framework types such as <code>System.Drawing.PointF</code> or <code>System.Collections.Generic.HashSet&lt;T&gt;</code>. Grasshopper does not use these types to during component-to-component communication, but someone else might.</li>
  <li>RhinoCommon types such as <code>Point3d</code>, <code>Circle</code>, <code>Plane</code>, <code>Brep</code>, <code>Curve</code> etc. Many of these are used natively, but certainly not all of them.</li>
  <li>Types defined in Grasshopper itself.</li>
  <li>Types defined in components for Grasshopper.</li>
  <li>Types defined in VB/C#/Python scripts that run inside Grasshopper.</li>
</ol>

<h2 id="what-to-do-with-unknowns">What to do with unknowns?</h2>

<p>Although clearly some of these are known to the developer during the time of writing, not all of them can be.  Yet Grasshopper still needs to be able to interpret and use types it may know nothing about. Some of the things Grasshopper needs to be able to do with data of any type are:</p>

<ol>
  <li>Convert it to text so tooltips and panels can be populated with <em>useful</em> descriptions of data.</li>
  <li>Convert it to and from other types.</li>
  <li>Duplicate data so we can change it without affecting the original.</li>
  <li>Test data for validity.</li>
  <li>Save types to <em>*.gh</em> files and load them back in. (note: this works especially poorly at the moment.)</li>
  <li>Preview geometric types in the viewport.</li>
  <li>Bake geometric types to the Rhino document.</li>
  <li>Transform geometric types.</li>
  <li>Calculate bounding boxes of geometric types.</li>
  <li>Be able to store null states of each type.</li>
</ol>

<p>To overcome the problem of (A) needing to do so many things while (B) knowing nothing about the types in advance an interface is defined in the Grasshopper SDK and all data which is stored inside parameters must implement this interface.  This allows Grasshopper to do the things from the second list to all the types from the first list.</p>

<h2 id="goo">Goo</h2>

<p>The <code>IGH_Goo</code> interface is is usually nothing more than a wrapper around the actual data which provides a bunch of functionality for whatever it wraps. For example take the primitive <code>Boolean</code> (or <code>bool</code> in C#).  It’s a structure so it can never be null, and it can only exist in either a <em>true</em> or a <em>false</em> state.</p>

<p>Grasshopper uses booleans a lot so it provides an <code>IGH_Goo</code> implementation for <code>Boolean</code>. This wrapper class tells Grasshopper that a boolean value can be converted into an integer (false -&gt; 0, true -&gt; 1), into a colour (false -&gt; black, true -&gt; white), into a string (false -&gt; “false”, true -&gt; “true”) and so on. The wrapper class also knows how to write and read boolean values to and from <em>*.gh</em> files, and because we’re now dealing with a wrapper class we can have null instances in a collection of boolean values.  The wrapper <em>doesn’t</em> tell Grasshopper how to preview or bake booleans, because booleans are not a geometric type of data.</p>

<p>Because so many data types are not in any way geometric, there is a second interface called <code>IGH_GeometricGoo</code> which extends <code>IGH_Goo</code> with stuff like transforming, bounding-boxing etc.</p>

<p><em>Almost always</em> component developers and scripters can ignore any of the <code>IGH_Goo</code> types, because they are mostly used for internal bookkeeping.  However sometimes a developer will either want to access the functionality that goo provides or they wish to inject a new, previously unknown type of data into a Grasshopper file. In these cases some knowledge of <code>IGH_Goo</code> and its derived interface and classes is required.</p>

<h2 id="conversion-methods">Conversion Methods</h2>

<p>IGH_Goo requires that the implementor provides three different conversion methods:</p>

<ol>
  <li><code>CastFrom</code></li>
  <li><code>CastTo</code></li>
  <li><code>ScriptVariable</code></li>
</ol>

<p>As an elucidation, imagine the following conversation going on between Grasshopper (G), which is trying to push data of type A in one parameter into another parameter which only accepts data of type B…</p>

<p>G:</p>

<blockquote>
  <p>“Hmm, two parameters that both store different types have been connected with a wire. That means the user wants to transfer all data from left to right, but I can’t simply copy it because the parameter on the right only accepts instances of type B.</p>
</blockquote>

<blockquote>
  <p>First let me check if A is a more derived type of B, in which case I can just ‘trick’ the parameter into accepting the original data.”</p>
</blockquote>

<blockquote>
  <p>“Nope, A is not a special flavour of B, which means some conversion needs to happen first…   Hey! You there! Mr. A! I need to move you over to this other place but they don’t take kindly to the likes of you. Is there any way I can persuade you to turn yourself into something more B-like?”</p>
</blockquote>

<p>A:</p>

<blockquote>
  <p>“Oh sorry, I have never heard of this B-thing you mentioned before, afraid I can’t help you out here.”</p>
</blockquote>

<p>G:</p>

<blockquote>
  <p>“Never mind, I’ll ask over there. Oy, B-man! Any chance of you letting me in on the secret about how to take this A thing over there and turn it into a B thing?”</p>
</blockquote>

<p>B:</p>

<blockquote>
  <p>“Yeah I know how to do that, but you’ll lose some information in the process.”</p>
</blockquote>

<p>G:</p>

<blockquote>
  <p>“That’s all right, something’s better than nothing.”</p>
</blockquote>

<p>B:</p>

<blockquote>
  <p>“All right, here you go, a B-ified version of the A data which is the best I can do under these imperfect circumstances.”</p>
</blockquote>

<p>G:</p>

<blockquote>
  <p>“Thanks! I’ll put it into this data tree over here right away.”</p>
</blockquote>

<p>More succinctly, Grasshopper calls the <code>CastTo&lt;B&gt;</code> method on the instance of A, asking it if it knows how to convert itself into a B type.  If that fails, it’ll construct a new empty B instance and ask it using the <code>CastFrom&lt;A&gt;</code> method whether it knows how to interpret the A data and mimic it.  If both these methods fail then Grasshopper will put up an error and leave that slot blank.</p>

<p>The <code>ScriptVariable</code> method allows data to protect itself from potentially ill-informed programmers.  Using this method, Grasshopper tells some data that it’s about to be handed over to a script (ie. a VB/C#/Python component) and whether it would like to maybe provide a different kind of data instead.  For example a <code>GH_Boolean</code> might assume that the scripter does’t really care for all that <code>IGH_Goo</code> malarkey and instead of pumping a <code>GH_Boolean</code> instance into a script just the value on the inside is provided.</p>

<hr />

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="/guides/grasshopper/simple-data-types">Simple Data Types</a></li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                
                Author: <a href="/authors/david_rutten">David Rutten</a>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/7/_guide_topics/grasshopper/grasshopper-data-types.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2022 Robert McNeel &amp; Associates<br/>
          <span class="glyphicon glyphicon-heart-empty"></span>&nbsp;<a href="/authors">Contributions welcome</a>
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
  </body>
</html>
