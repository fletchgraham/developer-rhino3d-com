<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Deployment to Production Servers with C#, VB</title>
  <meta name="description" content="Deploy Compute for Production  Using C#, VB">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/compute/deploy/" />
  <meta property="og:title" content="Deployment to Production Servers" />
  <meta property="og:description" content="Deploy Compute for Production" />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Deployment to Production Servers" />
  <meta name="twitter:description" value="Deploy Compute for Production" />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C#, VB" />
  

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vbnet.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="/wip/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/wip/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/wip/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/wip/guides/compute/deploy/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/wip/feed.xml" />

  <link rel="shortcut icon" href="https://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/wip/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/wip/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/wip/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/wip/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/wip/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/wip/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/wip/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/wip/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="/wip/images/touch-icon-192x192.png">

  <!-- Enable crawling because this version is the stable version -->
  <!--<meta name="robots" content="noindex" />-->
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    

<!-- The following are "casts" from the string to number using math filters... -->



<!-- ...but we need to check to see if the original branches were numbers or not... -->









  <div class="version-banner version-banner-warning">

    
      <strong>WARNING:</strong> You're viewing the <strong>Rhino WIP</strong> version of this page! <a href="/guides/compute/deploy/">View the current version instead.</a>
    
</div>

<!-- Check the version banner for broken links and remove the link if found -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- <script>
$(document).ready(function()
{
  var splitPath = window.location.pathname.split("/");
  var linkURL = "/" + splitPath.splice(2,splitPath.length-2).join("/");

  $.get(linkURL).fail(function ()
  {
    var $aTag = $("div.version-banner > a");
    $aTag.text("View the current site instead.");
    $aTag.attr("href", "/");
  });
});
</script> -->


    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/wip/"><img src="/wip/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/wip/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/wip/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/wip/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
        
          
            
              
            
          
        
          
            
              
                
                  
                    <a class="page-link active" href="/wip/guides/">Guides</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/wip/api/">API</a>
                    
                  
              
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/wip/samples/">Samples</a>
                    
                  
              
            
          
        
          
            
          
        
          
            
              
                
                  
                    <a class="page-link" href="/wip/videos/">Videos</a>
                    
                  
              
            
          
        
        <a class="page-link" href="https://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- CSE Search Box Begins  -->
            <form id="search-box" name="search-box" onsubmit="sitesearchFunction()" action="/wip/search-results.html">
                <input id="searchtext" type="search" name="q" size="24" value="" placeholder="Search" />
                <input class="searchBox" type="submit" size="2" value=" " />
            </form>
			<script type="text/javascript">
			function sitesearchFunction(){
				var form_id = document.getElementById("search-box");
				var form_action = form_id.action;
                var form_sb = document.getElementById("searchtext");
				var query_src = form_sb.value + " site:developer.rhino3d.com";
				form_sb.value = query_src.toString();
			}
			</script>
<!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#1-set-up-core-hour-billing">1. Set up Core-Hour Billing</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#2-prepare-windows-server">2. Prepare Windows Server</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#3-install-rhino-and-compute">3. Install Rhino and Compute</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#4-verify-compute-and-license-usage">4. Verify Compute and lic...</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#5-next-steps">5. Next steps</a>

              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              
              <li><a href="/wip/guides/hidden">Hidden</a></li>

              
                
              
          </ol>

          <h1>Deployment to Production Servers</h1>

          <p>
  <span class="guide_byline">
    
    
    by
      
        
        <a href="/wip/authors/brian_gillespie">Brian Gillespie</a>
         and
      
        
        <a href="/wip/authors/will_pearson">Will Pearson</a>
        
           (Last modified: <a href="https://github.com/mcneel/developer-rhino3d-com/commits/master/_guide_topics/compute/deploy.md" target="_blank">25 Jan 2022</a>)
    
  </span>

</p>

          <p>Deploy Compute for Production</p>

          <div class="bs-callout bs-callout-danger bs-callout-danger-fill" role="alert">
This guide is now obsolete. Check out <a href="../deploy-to-iis"><b><u>this page</u></b></a> for the updated version.
</div>

<p>How to deploy Compute to production server environment. To run Compute locally for development and testing, read <a href="../development">Running and Debugging Compute Locally</a>.</p>

<div class="alert alert-info" role="alert">
Running Compute locally uses your existing Rhino license. This is the best option for development and testing. Licensing works differently when running Rhino (i.e. via Compute) in a server-setting and you will be charged at a rate of <strong>$0.10 per core per hour</strong> if you follow this guide. 
</div>

<h2 id="1-set-up-core-hour-billing">1. Set up Core-Hour Billing</h2>

<p>Follow the <a href="../core-hour-billing">“Core-Hour Billing” guide</a> to get set up. This is important so do not skip.</p>

<h2 id="2-prepare-windows-server">2. Prepare Windows Server</h2>

<p>To run Compute you’ll need a server or virtual machine pre-installed with Windows Server 2019.</p>

<p>We’ll assume you’re deploying Compute to one of Amazon’s EC2 instances. There are a few things to pay attention to when setting up the instance – use this as a rough guide if you’re using a virtual machine from another cloud provider or a physical server.</p>

<ul>
  <li>Start with the “Microsoft Windows Server 2019 Base” AMI.</li>
  <li>The t2.medium instance type (2 vCPU, 4 GB RAM) is recommended.</li>
  <li>Assign a public ip, or better yet use an <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-ec2-instance.html">Elastic IP and Route53</a>.</li>
  <li>Set a “Name” tag to help keep track of instances.</li>
  <li>Configure the security group to allow Compute traffic:
    <ul>
      <li>RDP - 3389 TCP</li>
      <li>HTTP - 80 TCP</li>
      <li>HTTPS - 443 TCP</li>
    </ul>
  </li>
</ul>

<p>Wait for the virtual machine to spin up… ☕️</p>

<h2 id="3-install-rhino-and-compute">3. Install Rhino and Compute</h2>

<ol>
  <li>Connect to the server or virtual machine (usually using RDP) and open a PowerShell window.</li>
  <li>
    <p>Copy and paste the command below and hit Enter, to download and run the installer scripts:</p>

    <pre><code class="language-powershell"> iwr -useb https://raw.githubusercontent.com/mcneel/compute.rhino3d/master/script/bootstrap-server.ps1 -outfile bootstrap.ps1; .\bootstrap.ps1 -install
</code></pre>

    <p>This <a href="https://github.com/mcneel/compute.rhino3d/blob/master/script/bootstrap-server.ps1">script</a> will install Rhino and the latest build of Compute as well as ensuring that clients can communicate with Compute. Compute will be installed as a Windows service (named “rhino.compute”) so that it starts automatically when the server or virtual machine starts. You will be asked to enter a few things…</p>
    <ul>
      <li><code>EmailAddress</code> - The script will use this email to download a copy of Rhino to install. This is similar to the Rhino download page behavior.</li>
      <li><code>ApiKey</code> - The API key is a string of text that is secret to your compute server and your applications that are using the compute API e.g. <code>u5E5kFMKDx5GDfYsnJPf3dy0BcVjJF4O</code>. It is basically how the compute server ensures that the API calls are coming from Your apps only. You can enter any string that is unique and secret to you and your compute apps. Make sure to keep this in a safe place.</li>
      <li><code>RhinoToken</code> – This is a long token that identifies your instance of Rhino Compute to the core-hour billing system. Go to the <a href="https://www.rhino3d.com/licenses?_forceEmpty=true">Licenses Portal</a> to generate this unique id based on your license. See <a href="../core-hour-billing#using-core-hour-billing">“Using Core-Hour Billing” guide</a> for more information.</li>
    </ul>
  </li>
  <li>At the end of the installation process, Windows will restart to complete the setup. Wait a minute and log back in to check that the “rhino.compute” service is running.</li>
</ol>

<!-- Compute won't start the first time because the .NET 4.8 install needs to finish up -->
<!-- TODO: check if we can install the service with "delayed" start to make this work better -->
<div class="alert alert-warning" role="alert">
<strong>After the first restart</strong> you may need to start the "rhino.compute" service manually. <strong>Every other time it will start automatically.</strong>
</div>

<div class="alert alert-info" role="alert">
The Windows service display name was changed from "compute.geometry" to "rhino.compute" in early 2021. The underlying service name was not changed, so existing installations should keep functioning as normal.
</div>

<h2 id="4-verify-compute-and-license-usage">4. Verify Compute and license usage</h2>

<ol>
  <li>Open a browser and go to <em>http://public-dns-or-ip/version</em>. If Compute is working it will return its version and Rhino’s version.</li>
  <li>Go to the <a href="https://www.rhino3d.com/licenses?_forceEmpty=true">Licenses Portal</a> (login to your Rhino account if prompted).</li>
  <li>Under <em>Team Licenses</em> click your new team.</li>
  <li>Verify that Rhino is in use in your core-hour billing team.</li>
</ol>

<div class="alert alert-info" role="alert">
You are now being charged via <a href="../core-hour-billing" class="alert-link">Core-Hour Billing</a>. To stop the billing, either stop the "rhino.compute" service or shutdown the server or virtual machine.
</div>

<h2 id="5-next-steps">5. Next steps</h2>

<p>Check out the <a href="https://github.com/mcneel/compute.rhino3d.appserver">Rhino Compute AppServer</a> – a node.js server acting as a bridge between client apps and private Compute servers.</p>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                Authors:
                <ul>
                  
                  
                    
                    <li><a href="/wip/authors/brian_gillespie">Brian Gillespie</a></li>
                  
                    
                    <li><a href="/wip/authors/will_pearson">Will Pearson</a></li>
                  
                </ul>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/master/_guide_topics/compute/deploy.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/wip/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2022 Robert McNeel &amp; Associates<br/>
          <span class="glyphicon glyphicon-heart-empty"></span>&nbsp;<a href="/wip/authors">Contributions welcome</a>
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
  </body>
</html>
